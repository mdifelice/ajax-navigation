!function r(i,u,c){function l(t,e){if(!u[t]){if(!i[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(s)return s(t,!0);var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}var o=u[t]={exports:{}};i[t][0].call(o.exports,function(e){return l(i[t][1][e]||e)},o,o.exports,r,i,u,c)}return u[t].exports}for(var s="function"==typeof require&&require,e=0;e<c.length;e++)l(c[e]);return l}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a,i=(a=e("./page"))&&a.__esModule?a:{default:a};function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}var r=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e,this.rootElement=document.getElementById(e)||document.body,this.currentPage=this.parsePage(document.location.href,document.title,document.body.className)}var e,n,a;return e=t,(n=[{key:"render",value:function(e){for(this.currentPage.update(),document.title=e.documentTitle,document.body.className=e.bodyClass;e.rootElement.firstChild;)this.rootElement.appendChild(e.rootElement.firstChild);window.scrollTo(e.scrollX,e.scrollY),this.currentPage=e}},{key:"parsePage",value:function(e,t){var n=(new DOMParser).parseFromString(t,"text/html"),a=n.title,o=n.body.className,r=null;return r=this.id?n.getElementByID(this.id):n.body,new i.default(e,a,o,r)}}])&&o(e.prototype,n),a&&o(e,a),t}();n.default=r},{"./page":5}],2:[function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,a;return t=e,a=[{key:"on",value:function(e,t,n,a){(a=a||document).querySelectorAll(e).forEach(function(e){e.addEventListener(t,n)})}},{key:"live",value:function(t,n,a){var o=this;(this.on(t,n,a),window.MutationObserver)&&new MutationObserver(function(e){e.forEach(function(e){"childList"===e.type&&e.addedNodes.forEach(function(e){e.matches&&e.matches(t)?e.addEventListener(n,a):e.querySelectorAll&&o.on(t,n,a,e)})})}).observe(document.body,{childList:!0,subtree:!0})}}],(n=null)&&o(t.prototype,n),a&&o(t,a),e}();n.default=a},{}],3:[function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var a=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.cacheTimeout=e,this.pages={}}var e,n,a;return e=t,(n=[{key:"getPage",value:function(e){var t=this.pages[e],n=null;return void 0!==t&&(!this.cacheTimeout||(new Date).now-t.timestamp<=this.cacheTimeout)&&(n=t),n}},{key:"setPage",value:function(e){this.getPage(e.key)&&(e.timestamp=(new Date).now),this.pages[e.key]=e}}])&&o(e.prototype,n),a&&o(e,a),t}();n.default=a},{}],4:[function(e,t,n){"use strict";var a=r(e("./container")),o=r(e("./events")),l=r(e("./history")),s=r(e("./page"));function r(e){return e&&e.__esModule?e:{default:e}}!function(){function u(e){var t=!0;return"_blank"!==(e.getAttribute("target")||"").toLowerCase()&&(t=function(e){var t=!0;if(window.location.hostname===e.hostname){var n=e.pathname;if(window.location.pathname!==n||!e.hash){var a=c.urlBlacklist;for(var o in t=!1,a){var r=new RegExp(a[o]);if(r.test(n)){t=!0;break}}}}return t}(e)),t}function e(){var r=new a.default(c.containerId),i=new l.default(c.cacheTimeout),e=r.currentPage;i.setPage(e),window.history.replaceState({key:e.key},e.documentTitle,document.location.href),o.default.live("a","click",function(e){if(!u(this)){e.preventDefault();var n=document.body.classList;if(!n.contains("ajax-navigation-fetching")){n.add("ajax-navigation-fetching");var a=this.href,t=s.default.generateKey(a),o=i.getPage(t);o?r.render(o):fetch(a).then(function(e){var t=r.parsePage(a,e);n.remove("ajax-navigation-fetching"),i.setPage(t),r.render(t),window.history.pushState({key:t.key},t.documentTitle,a)}).catch(function(){window.location.href=a})}}}),window.addEventListener("popstate",function(e){var t=e.state?e.state.key:null;t&&r.render(i.getPage(t))})}if(void 0!==window.ajaxNavigation){var c=window.ajaxNavigation,t=document.readyState;"complete"===t||"interactive"===t?e():document.addEventListener("DOMContentLoaded",e)}}()},{"./container":1,"./events":2,"./history":3,"./page":5}],5:[function(e,t,n){"use strict";function a(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(){function o(e,t,n,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.key=o.generateKey(e),this.documentTitle=t,this.bodyClass=n,this.rootElement=a,this.timestamp=(new Date).now,this.updateScroll()}var e,t,n;return e=o,n=[{key:"generateKey",value:function(e){var t=e.replace(document.location.origin,""),n=!1;return t.length?"/"!==t.charAt(t.length-1)&&(n=!0):n=!0,n&&(t+="/"),t}}],(t=[{key:"update",value:function(){this.documentTitle=document.title,this.updateScroll()}},{key:"updateScroll",value:function(){this.scrollX=window.scrollX,this.scrollY=window.scrollY}}])&&a(e.prototype,t),n&&a(e,n),o}();n.default=o},{}]},{},[4]);