!function a(i,c,u){function l(t,e){if(!c[t]){if(!i[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(s)return s(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var o=c[t]={exports:{}};i[t][0].call(o.exports,function(e){return l(i[t][1][e]||e)},o,o.exports,a,i,c,u)}return c[t].exports}for(var s="function"==typeof require&&require,e=0;e<u.length;e++)l(u[e]);return l}({1:[function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.Container=void 0;var r=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e,this.rootElement=document.getElementById(e)||document.body,this.currentPage=this.parsePage(href,document.title,document.body.className)}var e,n,r;return e=t,(n=[{key:"render",value:function(e){for(currentPage.update(),document.title=e.documentTitle,document.body.className=e.bodyClass;e.rootElement.firstChild;)this.rootElement.appendChild(e.rootElement.firstChild);window.scrollTo(e.scrollX,e.scrollY),this.currentPage=e}},{key:"parsePage",value:function(e,t){var n=(new DOMParser).parseFromString(t,"text/html"),r=n.title,o=n.body.className,a=null;return a=id?n.getElementByID(container.id):n.body,new Page(e,r,o,a)}}])&&o(e.prototype,n),r&&o(e,r),t}();n.Container=r},{}],2:[function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.Events=void 0;var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"on",value:function(e,t,n,r){var o=r.querySelectorAll(e);r=r||document,o.forEach(function(e){e.addEventListener(t,n)})}},{key:"live",value:function(t,n,r){var o=this;(this.on(t,n,r),window.MutationObserver)&&new MutationObserver(function(e){e.forEach(function(e){"childList"===e.type&&e.addedNodes.forEach(function(e){e.matches&&e.matches(t)?e.addEventListener(n,r):e.querySelectorAll&&o.on(t,n,r,e)})})}).observe(document.body,{childList:!0,subtree:!0})}}],(n=null)&&o(t.prototype,n),r&&o(t,r),e}();n.Events=r},{}],3:[function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.History=void 0;var r=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.cacheTimeout=e,this.pages={}}var e,n,r;return e=t,(n=[{key:"getPage",value:function(e){var t=this.pages[e],n=null;return void 0!==t&&(!this.cacheTimeout||(new Date).now-t.timestamp<=this.cacheTimeout)&&(n=t),n}},{key:"setPage",value:function(e){this.getPage(e.key)&&(e.timestamp=(new Date).now),this.pages[e.key]=e}}])&&o(e.prototype,n),r&&o(e,r),t}();n.History=r},{}],4:[function(e,t,n){"use strict";e("./container"),e("./events"),e("./history"),e("./page"),function(){function l(e){var t=!0;return"_blank"!==(e.getAttribute("target")||"").toLowerCase()&&(t=function(e){var t=!0;if(window.location.hostname===e.hostname){var n=e.pathname;if(window.location.pathname!==n||!e.hash){var r=s.urlBlacklist;for(var o in r){var a=r[o];if(a.test(n)){t=!0;break}}}}return t}(e)),t}function e(){var i=this,c=new Container(containerId),u=new History(s.cacheTimeout),e=c.currentPage;u.appendPage(e),window.history.replaceState({key:e.key},e.documentTitle,document.location.href),Events.live("a","click",function(e){var t=i;if(!l(t)){e.preventDefault();var n=document.body.classList;if(!n.contains("ajax-navigation-fetching")){n.add("ajax-navigation-fetching");var r=t.href,o=Page.generateKey(r),a=u.getPage(o);a?c.render(a):fetch(r).then(function(e){var t=Container.parsePage(r,e);n.remove("ajax-navigation-fetching"),u.setPage(t),c.render(t),window.history.pushState({key:t.key},t.documentTitle,r)}).catch(function(){window.location.href=r})}}}),window.addEventListener("popstate",function(e){var t=e.state?e.state.key:null;t&&c.render(u.getPage(t))})}if(void 0!==window.ajaxNavigation){var s=window.ajaxNavigation,t=document.readyState;"complete"===t||"interactive"===t?e():document.addEventListener("DOMContentLoaded",e)}}()},{"./container":1,"./events":2,"./history":3,"./page":5}],5:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.Page=void 0;var o=function(){function o(e,t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.key=this.generateKey(e),this.documentTitle=t,this.bodyClass=n,this.rootElement=r,this.timestamp=(new Date).now,this.updateScroll()}var e,t,n;return e=o,n=[{key:"generateKey",value:function(e){var t=e.replace(document.location.origin,""),n=!1;return t.length?"/"!==t.charAt(t.length-1)&&(n=!0):n=!0,n&&(t+="/"),t}},{key:"parseHTML",value:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null,r=(new DOMParser).parseFromString(t,"text/html");return new o(e,r.title,r.body.className,n?r.getElementByID(n):r.body)}}],(t=[{key:"update",value:function(){this.documentTitle=document.title,this.updateScroll()}},{key:"updateScroll",value:function(){this.scrollX=window.scrollX,this.scrollY=window.scrollY}}])&&r(e.prototype,t),n&&r(e,n),o}();n.Page=o},{}]},{},[4]);