"use strict";function _interopRequireWildcard(a){if(a&&a.__esModule)return a;var b={};if(null!=a)for(var c in a)if(Object.prototype.hasOwnProperty.call(a,c)){var d=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(a,c):{};d.get||d.set?Object.defineProperty(b,c,d):b[c]=a[c]}return b.default=a,b}function on(a,b,c,d){var e=d.querySelectorAll(a);d=d||document,e.forEach(function(a){a.addEventListener(b,c)})}function live(a,b,c){var d=this;if(on(a,b,c),window.MutationObserver){new MutationObserver(function(e){e.forEach(function(e){"childList"===e.type&&e.addedNodes.forEach(function(e){e.matches&&e.matches(a)?e.addEventListener(b,c):e.querySelectorAll&&d.on(a,b,c,e)})})}).observe(document.body,{childList:!0,subtree:!0})}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.on=on,exports.live=live;var events=_interopRequireWildcard(require("./events"));!function(){var a=this,b=function(a){var b=!0;if(window.location.hostname===a.hostname){var c=a.pathname;if(window.location.pathname!==c||!a.hash){if("_blank"!==(a.getAttribute("target")||"").toLowerCase()){b=!1;var d=[/^\/wp-login\.php$/,/^\/wp-admin\/?/,/\/feed\/?$/];for(var e in d){if(d[e].test(c)){console.log(1),b=!0;break}}}}}return b},c=function(){parseInt(settings.cache_timeout),document.getElementById(settings.container_id)||document.body;window.history.replaceState({key:document.location.href},document.title,document.location.href),events.live("a","click",function(c){var d=a;if(!b(d)&&(c.preventDefault(),!document.body.classList.contains("ajax-navigation-fetching"))){document.body.classList.add("ajax-navigation-fetching");var e=d.href;fetch(e).then(function(a){setContent(key)}).catch(function(){window.location.href=e})}}),window.addEventListener("popstate",function(a){var b=a.state&&a.state.key?a.state.key:null;b&&setContent(b,!1)})};if(void 0!==window.ajax_navigation){var d=(window.ajax_navigation,document.readyState);"complete"===d||"interactive"===d?c():document.addEventListener("DOMContentLoaded",c)}}();