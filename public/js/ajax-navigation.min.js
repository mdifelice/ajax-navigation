!function a(i,u,l){function c(t,e){if(!u[t]){if(!i[t]){var n="function"==typeof require&&require;if(!e&&n)return n(t,!0);if(s)return s(t,!0);var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}var o=u[t]={exports:{}};i[t][0].call(o.exports,function(e){return c(i[t][1][e]||e)},o,o.exports,a,i,u,l)}return u[t].exports}for(var s="function"==typeof require&&require,e=0;e<l.length;e++)c(l[e]);return c}({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r,i=(r=e("./page"))&&r.__esModule?r:{default:r};function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=e,this.rootElement=document.getElementById(e)||document.body,this.currentPage=this.parsePage(document.location.href,"")}var e,n,r;return e=t,(n=[{key:"render",value:function(e){for(this.currentPage.update(this.rootElement),document.title=e.documentTitle,document.body.className=e.bodyClass;e.rootElement.firstChild;)this.rootElement.appendChild(e.rootElement.firstChild);setTimeout(function(){window.scrollTo(e.scrollX,e.scrollY)},10),this.currentPage=e}},{key:"parsePage",value:function(e,t){var n=(new DOMParser).parseFromString(t,"text/html"),r=n.title,o=n.body.className,a=null;return a=this.id?n.getElementByID(this.id):n.body,new i.default(e,r,o,a)}}])&&o(e.prototype,n),r&&o(e,r),t}();n.default=a},{"./page":5}],2:[function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,r=[{key:"on",value:function(e,t,n,r){(r=r||document).querySelectorAll(e).forEach(function(e){e.addEventListener(t,n)})}},{key:"live",value:function(t,n,r){var o=this;(this.on(t,n,r),window.MutationObserver)&&new MutationObserver(function(e){e.forEach(function(e){"childList"===e.type&&e.addedNodes.forEach(function(e){e.matches&&e.matches(t)?e.addEventListener(n,r):e.querySelectorAll&&o.on(t,n,r,e)})})}).observe(document.body,{childList:!0,subtree:!0})}}],(n=null)&&o(t.prototype,n),r&&o(t,r),e}();n.default=r},{}],3:[function(e,t,n){"use strict";function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.pages={}}var t,n,r;return t=e,(n=[{key:"getPage",value:function(e){var t=null;return void 0!==this.pages[e]&&(t=this.pages[e]),t}},{key:"setPage",value:function(e){this.pages[e.key]=e}}])&&o(t.prototype,n),r&&o(t,r),e}();n.default=r},{}],4:[function(e,t,n){"use strict";var r=i(e("./container")),o=i(e("./events")),a=i(e("./history")),l=i(e("./page"));function i(e){return e&&e.__esModule?e:{default:e}}function c(e){var t=!0;return"_blank"!==(e.getAttribute("target")||"").toLowerCase()&&(t=function(e){var t=!0;if(window.location.hostname===e.hostname){var n=e.pathname;if(window.location.pathname!==n||!e.hash){var r=s.urlBlacklist;for(var o in t=!1,r){var a=new RegExp(r[o]);if(a.test(n)){t=!0;break}}}}return t}(e)),t}function u(){var i=new r.default(s.containerId),u=new a.default,e=i.currentPage;u.setPage(e),window.history.replaceState({key:e.key},e.documentTitle,document.location.href),o.default.live("a","click",function(e){if(!c(this)){e.preventDefault();var n=document.body.classList;if(!n.contains("ajax-navigation-fetching")){n.add("ajax-navigation-fetching");var r=this.href,t=l.default.generateKey(r),o=u.getPage(t),a=s.cacheTimeout;o&&(!a||Date.now()-o.timestamp<=a)?i.render(o):fetch(r).then(function(e){return e.text()}).then(function(e){var t=i.parsePage(r,e);n.remove("ajax-navigation-fetching"),u.setPage(t),i.render(t),window.history.pushState({key:t.key},t.documentTitle,r)}).catch(function(){window.location.href=r})}}}),window.addEventListener("popstate",function(e){var t=e.state?e.state.key:null;t&&i.render(u.getPage(t))})}if(void 0!==window.ajaxNavigation){var s=window.ajaxNavigation,f=document.readyState;"complete"===f||"interactive"===f?u():document.addEventListener("DOMContentLoaded",u)}},{"./container":1,"./events":2,"./history":3,"./page":5}],5:[function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(n,"__esModule",{value:!0}),n.default=void 0;var o=function(){function o(e,t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),this.key=o.generateKey(e),this.documentTitle=t,this.bodyClass=n,this.rootElement=r,this.timestamp=Date.now()}var e,t,n;return e=o,n=[{key:"generateKey",value:function(e){var t=e.replace(document.location.origin,""),n=!1;return t.length?"/"!==t.charAt(t.length-1)&&(n=!0):n=!0,n&&(t+="/"),t}}],(t=[{key:"update",value:function(e){for(this.documentTitle=document.title,this.bodyClass=document.body.className,this.scrollX=window.scrollX,this.scrollY=window.scrollY;e.firstChild;)this.rootElement.appendChild(e.firstChild)}}])&&r(e.prototype,t),n&&r(e,n),o}();n.default=o},{}]},{},[4]);
//# sourceMappingURL=ajax-navigation.min.js.map